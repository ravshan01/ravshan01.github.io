class Cube{constructor(t){this.$cube=document.querySelector(".cube"),this.$wrap=this.$cube.parentElement,this.$cubeInfo=document.querySelector(".cube-info"),this.startPosX=0,this.startPosY=0,this.defaultRotateX=-30,this.defaultRotateY=30,this.rotateX=0,this.rotateY=0,this.isMouseDown=!1}init(){this.$wrap.addEventListener("mousedown",this.mouseDown.bind(this)),this.$wrap.addEventListener("touchstart",this.mouseDown.bind(this)),window.addEventListener("mouseup",this.mouseUp.bind(this)),window.addEventListener("touchend",this.mouseUp.bind(this)),this.$wrap.addEventListener("mousemove",this.rotate.bind(this)),this.$wrap.addEventListener("touchmove",this.rotate.bind(this))}rotate(t){if(this.isMouseDown){let e=t.clientX&&0!==t.clientX?t:t.changedTouches[0],s=e.clientX,i=e.clientY;this.rotateX=this.defaultRotateX-(i-this.startPosY)/3,this.rotateY=this.defaultRotateY+(s-this.startPosX)/3,this.$cube.style.transform=`rotateX(${this.rotateX}deg) rotateY(${this.rotateY}deg)`}}mouseDown(t){let e=t.clientX?t:t.changedTouches[0];this.isMouseDown=!0,this.startPosX=e.clientX,this.startPosY=e.clientY,this.$cubeInfo.classList.add("hide")}mouseUp(){this.isMouseDown=!1,this.defaultRotateX=this.rotateX,this.defaultRotateY=this.rotateY}}